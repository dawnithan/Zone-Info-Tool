<!DOCTYPE html>
<html>
<head>
	<title>Zone Info Tool</title>
	<!-- Map CSS -->
	<link rel="stylesheet" type="text/css" href="map.css">
	<!-- Leaflet CSS + Leaflet JS -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
	<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
	<!-- Leaflet EasyButton CSS + JS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
	<script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>
	<!-- JQuery -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<!-- <script src="map.js"></script> -->
</head>
<body>
	
<div id="mapid"></div>

<script>
var map = L.map('mapid').setView([51.8977, -8.4706], 15);

var marker = L.marker();
var circle = L.circle();
var info = L.control();

L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
	maxZoom: 18,
	attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
		'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
		'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
	id: 'mapbox.streets'
}).addTo(map);

L.easyButton('<span class="delete">&cross;</span>', function() {
	map.removeLayer(circle);
	map.removeLayer(marker);
	console.log("Zone removed.");
}, title="Remove Current Zone").addTo(map);

map.on('click', onMapClick);

info.onAdd = function (map) {
	this._div = L.DomUtil.create('div', 'info'); //create div with class 'info'
	this.update();
	return this._div;
};

info.update = function (props) {
    this._div.innerHTML = "<h1>testing!! this is a test!! aaaaa!</h1>"
};

info.addTo(map);

function onMapClick(e) {
    marker.setLatLng(e.latlng, {draggable: 'true'}).addTo(map);
    if(circle != undefined) {
    	map.removeLayer(circle);
    }
    circle = L.circle(e.latlng, {
    	color: '#9e7c83',
    	fillColor: '#f03',
    	fillOpacity: 0.2,
    	radius: 1000
    }).addTo(map);
    marker.bindPopup("<h3>This is a test popup.</h3>This is where information from a database might show up.");
}	
</script>

</body>
</html>